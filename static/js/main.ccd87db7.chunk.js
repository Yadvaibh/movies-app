(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(8),s=n.n(r),l=n(7),i=n.n(l),o=n(9),d=n(2),j=n(3),h=n(5),b=n(4),u=n(0),v=function(){return Object(u.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"#",children:"MovieRentals"}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(u.jsxs)("ul",{class:"navbar-nav",children:[Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Home"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"#",children:"Features"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"#",children:"Pricing"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"#",tabindex:"-1","aria-disabled":"true",children:"Disabled"})})]})})]})})},x=function(e){return Object(u.jsx)("div",{class:"col-3 m-4",children:Object(u.jsxs)("ul",{class:"list-group ",children:[Object(u.jsx)("li",{onClick:function(){return e.handleFilterChange("All Genre")},class:"list-group-item ".concat("All Genre"==e.selectedFilter?"active":""),children:"All Genre"}),e.Genre.map((function(t){return Object(u.jsx)("li",{className:"list-group-item  ".concat(t.name==e.selectedFilter?"active":""),onClick:function(){return e.handleFilterChange(t.name)},children:t.name},t._id)}))]})})},p=function(e){for(var t=[],n=1;n<=e.totalPages;n++)t.push(n);return Object(u.jsx)("div",{class:"row",children:Object(u.jsx)("nav",{"aria-label":"Page navigation example",children:Object(u.jsx)("ul",{class:"pagination",children:t.map((function(t){return Object(u.jsx)("li",{class:"page-item ".concat(t==e.currPage?"active":""),onClick:function(){e.handlePageChange(t)},children:Object(u.jsx)("a",{class:"page-link",href:"#",children:t})})}))})})})},O=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{class:"col-3 mt-4",children:Object(u.jsx)("div",{class:"input-group input-group-sm mb-3",children:Object(u.jsx)("input",{type:"text",placeholder:"search movie",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",onChange:function(t){e.searchedChanged(t.currentTarget.value)}})})})}),Object(u.jsx)("div",{className:"row row-no-gutters",children:Object(u.jsx)("div",{class:"col-2",children:Object(u.jsx)("button",{type:"button",class:"btn btn-primary",children:"New"})})})]})},g=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={currPage:1,searched:""},e.handlePageChange=function(t){e.setState({currPage:t})},e.searchedChanged=function(t){e.setState({searched:t})},e.render=function(){var t=e.props.selectedFilter,n=e.props.moviesData.filter((function(e){return"All Genre"===t||e.genre.name===t?e:void 0}));n=n.filter((function(t){var n=t.title.toLowerCase(),a=e.state.searched.toLowerCase();return n.includes(a)}));var a=Math.ceil(n.length/4);return n=n.slice(4*(e.state.currPage-1),4*e.state.currPage),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{searched:e.searched,searchedChanged:e.searchedChanged}),Object(u.jsx)("div",{class:"row",children:Object(u.jsx)("div",{class:"col-8",children:Object(u.jsxs)("table",{class:"table table-hover mt-4",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Title"}),Object(u.jsx)("th",{scope:"col",children:"Genre"}),Object(u.jsx)("th",{scope:"col",children:"Stock"}),Object(u.jsx)("th",{scope:"col",children:"Rate"})]})}),Object(u.jsx)("tbody",{children:n.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.title}),Object(u.jsx)("td",{children:t.genre.name}),Object(u.jsx)("td",{children:t.numberInStock}),Object(u.jsx)("td",{children:t.dailyRentalRate}),Object(u.jsx)("td",{onClick:function(){e.props.handleLike(t._id)},children:t.like?Object(u.jsx)("span",{class:"material-icons-outlined",children:"favorite"}):Object(u.jsx)("span",{class:"material-icons-outlined",children:"favorite_border"})}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){e.props.handleDelete(t._id)},children:"delete"})})]})}))})]})})}),Object(u.jsx)(p,{handlePageChange:e.handlePageChange,currPage:e.state.currPage,totalPages:a})]})},e}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(){console.log("table updated")}}]),n}(c.a.Component),f=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={Movies:[],Genre:[],selectedFilter:"All Genre"},e.handleLike=function(t){var n=e.state.Movies,a=n.findIndex((function(e){return e._id==t}));n[a].like?n[a].like=!1:n[a].like=!0,e.setState({Movies:n})},e.handleDelete=function(t){var n=e.state.Movies.filter((function(e){return e._id!=t}));e.setState({Movies:n})},e.handleFilterChange=function(t){e.setState({selectedFilter:t})},e.render=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(x,{handleFilterChange:e.handleFilterChange,selectedFilter:e.state.selectedFilter,Genre:e.state.Genre}),Object(u.jsxs)("div",{className:"col m-4",children:["showing ",e.state.Movies.length," movies",Object(u.jsx)(g,{handleDelete:e.handleDelete,handleLike:e.handleLike,moviesData:e.state.Movies,selectedFilter:e.state.selectedFilter})]})]})]})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(o.a)(i.a.mark((function t(){var n,a,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:4000/Genre");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.next=8,fetch("http://localhost:4000/Movies");case 8:return c=t.sent,t.next=11,c.json();case 11:r=t.sent,e.setState({Movies:r,Genre:a});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}]),n}(c.a.Component);s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ccd87db7.chunk.js.map